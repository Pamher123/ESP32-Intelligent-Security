if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=(e,t)=>{const a=e.__vccOpts||e;for(const[l,i]of t)a[l]=i;return a};const a=t({methods:{openCamera(){uni.navigateTo({url:"/pages/camera/camera"})},goToSensorData(){uni.navigateTo({url:"/pages/sensordata/sensor_data"})},goToRphoto(){uni.navigateTo({url:"/pages/photo/photoGallery"})}}},[["render",function(t,a,l,i,n,o){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"title"},"欢迎使用我的App"),e.createElementVNode("button",{onClick:a[0]||(a[0]=(...e)=>o.openCamera&&o.openCamera(...e))},"实时摄像头"),e.createElementVNode("button",{onClick:a[1]||(a[1]=(...e)=>o.goToSensorData&&o.goToSensorData(...e))},"数据记录"),e.createElementVNode("button",{onClick:a[2]||(a[2]=(...e)=>o.goToRphoto&&o.goToRphoto(...e))},"相册")])}]]);function l(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const i={__name:"camera",setup(t){const a=e.ref("");function i(){uni.request({url:"http://192.168.97.18/take-photo",method:"GET",timeout:5e3,success(e){200===e.statusCode?(uni.showToast({title:"拍照请求成功",icon:"success"}),l("log","at pages/camera/camera.vue:36","📸 拍照成功，状态码:",e.statusCode)):(uni.showToast({title:"拍照请求失败",icon:"error"}),l("error","at pages/camera/camera.vue:39","❌ 拍照失败，状态码:",e.statusCode))},fail(e){uni.showToast({title:"请求出错",icon:"error"}),l("error","at pages/camera/camera.vue:44","❌ 请求失败:",e)}})}return e.onMounted((()=>{a.value="http://192.168.97.65:8000/stream"})),(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("text",{class:"title"},"实时摄像头"),a.value?(e.openBlock(),e.createElementBlock("image",{key:0,src:a.value,mode:"widthFix",class:"stream"},null,8,["src"])):(e.openBlock(),e.createElementBlock("text",{key:1,class:"error"},"无法连接到摄像头流")),e.createElementVNode("view",{class:"bottom-bar"},[e.createElementVNode("view",{class:"btn",onClick:i},"拍照")])]))}},n=t({__name:"sensor_data",setup(t){const a=e.ref([]),i=e.ref([]),n=e.ref(1),o=e.ref(0),s=[10,20,50,100],r=e.ref(s[o.value]),c=e.ref(""),m=e.ref(""),d=e.ref(""),u=e.ref(null),g=e.ref(null),p=e.ref(null),h=e.ref(null),v=e.ref("timestamp"),T=e.ref("desc"),E=e.ref(!1),V=e.ref(!1),k=()=>{uni.request({url:"http://192.168.97.65:8000/api/sensor-data",method:"GET",success:e=>{e.data&&Array.isArray(e.data.data)&&(a.value=e.data.data.map((e=>({temperature:e.temperature,light:e.light,timestamp:e.timestamp}))),N())},fail:e=>{l("error","at pages/sensordata/sensor_data.vue:171","获取数据失败",e)}})};const N=()=>{let e=a.value.filter((e=>{if(c.value){const t=c.value.toString(),a=e.temperature.toString().includes(t),l=e.light.toString().includes(t);if(!a&&!l)return!1}if(m.value||d.value){const t=new Date(e.timestamp);if(m.value&&t<new Date(m.value))return!1;if(d.value&&t>new Date(d.value))return!1}return!(null!==u.value&&e.temperature<u.value)&&(!(null!==g.value&&e.temperature>g.value)&&(!(null!==p.value&&e.light<p.value)&&!(null!==h.value&&e.light>h.value)))}));e.sort(((e,t)=>{let a=e[v.value],l=t[v.value];"timestamp"===v.value&&(a=new Date(a),l=new Date(l));const i=a>l?1:-1;return"asc"===T.value?i:-i})),i.value=e,n.value>y.value&&y.value>0&&(n.value=1)};e.watch([c,m,d,u,g,p,h,v,T],N);const y=e.computed((()=>Math.ceil(i.value.length/r.value))),D=e.computed((()=>{const e=(n.value-1)*r.value;return i.value.slice(e,e+r.value)}));function w(){n.value>1&&n.value--}function f(){n.value<y.value&&n.value++}function b(e){v.value===e?T.value="asc"===T.value?"desc":"asc":(v.value=e,T.value="timestamp"===e?"desc":"asc")}function S(e){return v.value!==e?"":"asc"===T.value?"⬆️":"⬇️"}function C(e){const t=new Date;let a,l;switch(e){case"today":a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),l=new Date(a.getTime()+864e5-1);break;case"week":a=new Date(t.getTime()-6048e5),l=t;break;default:a=null,l=null}m.value=a?a.toISOString().slice(0,16):"",d.value=l?l.toISOString().slice(0,16):"",N()}function x(){c.value="",m.value="",d.value="",u.value=null,g.value=null,p.value=null,h.value=null,N()}function B(e){o.value=e.detail.value,r.value=s[e.detail.value],n.value=1,N()}return e.onMounted((()=>{k()})),(t,l)=>{const v=e.resolveComponent("uni-datetime-picker");return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("text",{class:"title"},"📊 传感器数据"),e.createElementVNode("button",{onClick:k,class:"btn"},"🔄 手动刷新"),e.createElementVNode("view",{class:"search-panel"},[e.createElementVNode("view",{class:"search-row"},[e.createElementVNode("text",{class:"label"},"快速搜索："),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),placeholder:"输入距离或光照数值","confirm-type":"done",onConfirm:N},null,544),[[e.vModelText,c.value]]),e.createElementVNode("text",{class:"search-tip"},"实时搜索，无需点击按钮")]),e.createElementVNode("view",{class:"filters-grid"},[e.createElementVNode("view",{class:"filter-group"},[e.createElementVNode("text",{class:"label"},"开始时间："),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),placeholder:"YYYY-MM-DD HH:mm",onFocus:l[2]||(l[2]=e=>E.value=!0),readonly:""},null,544),[[e.vModelText,m.value]]),E.value?(e.openBlock(),e.createBlock(v,{key:0,type:"datetime",onChange:l[3]||(l[3]=e=>{m.value=e.detail.value,E.value=!1,N()}),onCancel:l[4]||(l[4]=e=>E.value=!1)})):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"filter-group"},[e.createElementVNode("text",{class:"label"},"结束时间："),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=e=>d.value=e),placeholder:"YYYY-MM-DD HH:mm",onFocus:l[6]||(l[6]=e=>V.value=!0),readonly:""},null,544),[[e.vModelText,d.value]]),V.value?(e.openBlock(),e.createBlock(v,{key:0,type:"datetime",onChange:l[7]||(l[7]=e=>{d.value=e.detail.value,V.value=!1,N()}),onCancel:l[8]||(l[8]=e=>V.value=!1)})):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"filter-group"},[e.createElementVNode("text",{class:"label"},"距离范围："),e.withDirectives(e.createElementVNode("input",{class:"input-number",type:"number","onUpdate:modelValue":l[9]||(l[9]=e=>u.value=e),placeholder:"最小"},null,512),[[e.vModelText,u.value,void 0,{number:!0}]]),e.createElementVNode("text",null," - "),e.withDirectives(e.createElementVNode("input",{class:"input-number",type:"number","onUpdate:modelValue":l[10]||(l[10]=e=>g.value=e),placeholder:"最大"},null,512),[[e.vModelText,g.value,void 0,{number:!0}]])]),e.createElementVNode("view",{class:"filter-group"},[e.createElementVNode("text",{class:"label"},"光照范围："),e.withDirectives(e.createElementVNode("input",{class:"input-number",type:"number","onUpdate:modelValue":l[11]||(l[11]=e=>p.value=e),placeholder:"最小"},null,512),[[e.vModelText,p.value,void 0,{number:!0}]]),e.createElementVNode("text",null," - "),e.withDirectives(e.createElementVNode("input",{class:"input-number",type:"number","onUpdate:modelValue":l[12]||(l[12]=e=>h.value=e),placeholder:"最大"},null,512),[[e.vModelText,h.value,void 0,{number:!0}]])])]),e.createElementVNode("view",{class:"quick-actions"},[e.createElementVNode("button",{onClick:l[13]||(l[13]=e=>C("today")),class:"btn"},"今天"),e.createElementVNode("button",{onClick:l[14]||(l[14]=e=>C("week")),class:"btn"},"最近7天"),e.createElementVNode("button",{onClick:x,class:"btn"},"清除筛选"),e.createElementVNode("text",{class:"result-count"},[e.createTextVNode(" 找到 "+e.toDisplayString(i.value.length)+" 条记录 ",1),i.value.length!==a.value.length?(e.openBlock(),e.createElementBlock("text",{key:0}," / 共"+e.toDisplayString(a.value.length)+"条",1)):e.createCommentVNode("",!0)])])]),D.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sensor-table"},[e.createElementVNode("view",{class:"thead"},[e.createElementVNode("view",{class:"th sortable",onClick:l[15]||(l[15]=e=>b("temperature"))}," 距离 (cm) "+e.toDisplayString(S("temperature")),1),e.createElementVNode("view",{class:"th sortable",onClick:l[16]||(l[16]=e=>b("light"))}," 光照 (lux) "+e.toDisplayString(S("light")),1),e.createElementVNode("view",{class:"th sortable",onClick:l[17]||(l[17]=e=>b("timestamp"))}," 时间 "+e.toDisplayString(S("timestamp")),1)]),e.createElementVNode("scroll-view",{class:"tbody","scroll-y":"",style:{"max-height":"400rpx"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,((t,a)=>{return e.openBlock(),e.createElementBlock("view",{class:"tr",key:a},[e.createElementVNode("view",{class:"td"},e.toDisplayString(t.temperature),1),e.createElementVNode("view",{class:"td"},e.toDisplayString(t.light),1),e.createElementVNode("view",{class:"td"},e.toDisplayString((l=t.timestamp,new Date(l).toLocaleString("zh-CN"))),1)]);var l})),128))])])):(e.openBlock(),e.createElementBlock("text",{key:1,class:"no-data"},e.toDisplayString(0===a.value.length?'暂无数据，请点击"手动刷新"':"没有符合条件的数据，请调整筛选条件"),1)),y.value>1?(e.openBlock(),e.createElementBlock("view",{key:2,class:"pagination"},[e.createElementVNode("button",{onClick:l[18]||(l[18]=e=>n.value=1),disabled:1===n.value,class:"btn"},"首页",8,["disabled"]),e.createElementVNode("button",{onClick:w,disabled:1===n.value,class:"btn"},"上一页",8,["disabled"]),e.createElementVNode("text",null,"第 "+e.toDisplayString(n.value)+" 页 / 共 "+e.toDisplayString(y.value)+" 页",1),e.createElementVNode("button",{onClick:f,disabled:n.value===y.value,class:"btn"},"下一页",8,["disabled"]),e.createElementVNode("button",{onClick:l[19]||(l[19]=e=>n.value=y.value),disabled:n.value===y.value,class:"btn"},"末页",8,["disabled"]),e.createElementVNode("text",{style:{"margin-left":"20rpx"}},[e.createTextVNode(" 每页显示： "),e.createElementVNode("picker",{mode:"selector",range:s,value:o.value,onChange:B},[e.createElementVNode("view",{class:"picker"},e.toDisplayString(r.value)+"条",1)],40,["value"])])])):e.createCommentVNode("",!0)])}}},[["__scopeId","data-v-91a933d5"]]);const o=t({name:"PhotoGallery",data:()=>({images:[],loading:!1,page:1,pageSize:10,totalImages:0,startTime:"",endTime:"",startTimeDate:"",startTimeTime:"",endTimeDate:"",endTimeTime:"",showModal:!1,selectedImage:null,pageSizes:[6,10,20],showDebug:!1}),computed:{hasFilter(){return this.startTime||this.endTime},hasNextPage(){return this.images.length===this.pageSize}},methods:{getImageSrc:e=>e&&e.image?e.image.startsWith("data:image")?e.image:(e.image.startsWith("/9j")||e.image.startsWith("iVBOR")||e.image.startsWith("R0lGOD"),`data:image/jpeg;base64,${e.image}`):"/static/placeholder.png",formatTime:e=>new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),toBackendTimeFormat(e){if(!e)return"";const t=new Date(e);if(isNaN(t))return"";const a=t.getFullYear(),l=t.getMonth()+1,i=t.getDate(),n=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return`${a}/${l}/${i} ${this.pad(n)}:${this.pad(o)}:${this.pad(s)}`},pad:e=>e<10?"0"+e:e,fetchImages(){this.loading=!0;const e={page:this.page,page_size:this.pageSize};this.startTime&&(e.start=this.toBackendTimeFormat(this.startTime)),this.endTime&&(e.end=this.toBackendTimeFormat(this.endTime)),l("log","at pages/photo/photoGallery.vue:215","请求参数:",e),uni.request({url:"http://192.168.97.65:8000/images/search",method:"GET",data:e,success:e=>{if(l("log","at pages/photo/photoGallery.vue:222","响应数据:",e),200===e.statusCode){const t=e.data||{};this.images=t.data||[],this.totalImages=t.total||0,this.images.length>0&&(l("log","at pages/photo/photoGallery.vue:231","第一张图片数据:",this.images[0]),l("log","at pages/photo/photoGallery.vue:232","图片数据长度:",this.images[0].image?this.images[0].image.length:0))}else this.images=[],this.totalImages=0,uni.showToast({title:"获取图片失败",icon:"none"})},fail:e=>{l("error","at pages/photo/photoGallery.vue:241","获取相册图片失败:",e),this.images=[],this.totalImages=0,uni.showToast({title:"请求失败",icon:"none"})},complete:()=>{this.loading=!1}})},goToPage(e){this.page=e,this.fetchImages()},nextPage(){this.hasNextPage&&(this.page++,this.fetchImages())},prevPage(){this.page>1&&(this.page--,this.fetchImages())},changePageSize(e){this.pageSize=this.pageSizes[e.detail.value],this.page=1,this.fetchImages()},setTimeRange(e){const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(this.endTime=this.toDateTimeLocal(t),this.endTimeDate=this.endTime.split("T")[0],this.endTimeTime=this.endTime.split("T")[1],e){case"today":this.startTime=this.toDateTimeLocal(a),this.startTimeDate=this.startTime.split("T")[0],this.startTimeTime=this.startTime.split("T")[1];break;case"yesterday":{const e=new Date(a);e.setDate(a.getDate()-1),this.startTime=this.toDateTimeLocal(e),this.endTime=this.toDateTimeLocal(a),this.startTimeDate=this.startTime.split("T")[0],this.startTimeTime=this.startTime.split("T")[1],this.endTimeDate=this.endTime.split("T")[0],this.endTimeTime=this.endTime.split("T")[1];break}case"week":{const e=new Date(a);e.setDate(a.getDate()-7),this.startTime=this.toDateTimeLocal(e),this.startTimeDate=this.startTime.split("T")[0],this.startTimeTime=this.startTime.split("T")[1];break}case"month":{const e=new Date(a);e.setDate(a.getDate()-30),this.startTime=this.toDateTimeLocal(e),this.startTimeDate=this.startTime.split("T")[0],this.startTimeTime=this.startTime.split("T")[1];break}}this.page=1,this.fetchImages()},clearFilter(){this.startTime="",this.endTime="",this.startTimeDate="",this.startTimeTime="",this.endTimeDate="",this.endTimeTime="",this.page=1,this.fetchImages()},toDateTimeLocal:e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`,openImageModal(e){this.selectedImage=e,this.showModal=!0},closeModal(){this.showModal=!1,this.selectedImage=null},handleImageError(e){l("error","at pages/photo/photoGallery.vue:356","图片加载失败:",e),uni.showToast({title:"图片加载失败",icon:"none"})},handleImageLoad(e){l("log","at pages/photo/photoGallery.vue:361","图片加载成功:",e)},onStartDateChange(e){this.startTimeDate=e.detail.value,this.updateStartTime()},onStartTimeChange(e){this.startTimeTime=e.detail.value,this.updateStartTime()},onEndDateChange(e){this.endTimeDate=e.detail.value,this.updateEndTime()},onEndTimeChange(e){this.endTimeTime=e.detail.value,this.updateEndTime()},updateStartTime(){this.startTimeDate&&this.startTimeTime&&(this.startTime=`${this.startTimeDate}T${this.startTimeTime}`),this.page=1,this.fetchImages()},updateEndTime(){this.endTimeDate&&this.endTimeTime&&(this.endTime=`${this.endTimeDate}T${this.endTimeTime}`),this.page=1,this.fetchImages()}},mounted(){this.fetchImages()}},[["render",function(t,a,l,i,n,o){return e.openBlock(),e.createElementBlock("view",{class:"gallery-container"},[e.createElementVNode("text",{class:"title"},"📷 查看相册"),e.createElementVNode("view",{class:"search-panel"},[e.createElementVNode("view",{class:"time-filters"},[e.createElementVNode("view",{class:"filter-group"},[e.createElementVNode("text",{class:"label"},"开始时间："),e.createElementVNode("picker",{mode:"date",value:n.startTimeDate,onChange:a[0]||(a[0]=(...e)=>o.onStartDateChange&&o.onStartDateChange(...e))},[e.createElementVNode("view",{class:"picker"},e.toDisplayString(n.startTimeDate||"请选择"),1)],40,["value"]),e.createElementVNode("picker",{mode:"time",value:n.startTimeTime,onChange:a[1]||(a[1]=(...e)=>o.onStartTimeChange&&o.onStartTimeChange(...e))},[e.createElementVNode("view",{class:"picker"},e.toDisplayString(n.startTimeTime||"请选择"),1)],40,["value"])]),e.createElementVNode("view",{class:"filter-group"},[e.createElementVNode("text",{class:"label"},"结束时间："),e.createElementVNode("picker",{mode:"date",value:n.endTimeDate,onChange:a[2]||(a[2]=(...e)=>o.onEndDateChange&&o.onEndDateChange(...e))},[e.createElementVNode("view",{class:"picker"},e.toDisplayString(n.endTimeDate||"请选择"),1)],40,["value"]),e.createElementVNode("picker",{mode:"time",value:n.endTimeTime,onChange:a[3]||(a[3]=(...e)=>o.onEndTimeChange&&o.onEndTimeChange(...e))},[e.createElementVNode("view",{class:"picker"},e.toDisplayString(n.endTimeTime||"请选择"),1)],40,["value"])])]),e.createElementVNode("view",{class:"quick-actions"},[e.createElementVNode("button",{class:"btn",onClick:a[4]||(a[4]=e=>o.setTimeRange("today"))},"今天"),e.createElementVNode("button",{class:"btn",onClick:a[5]||(a[5]=e=>o.setTimeRange("yesterday"))},"昨天"),e.createElementVNode("button",{class:"btn",onClick:a[6]||(a[6]=e=>o.setTimeRange("week"))},"最近7天"),e.createElementVNode("button",{class:"btn",onClick:a[7]||(a[7]=e=>o.setTimeRange("month"))},"最近30天"),e.createElementVNode("button",{class:"btn clear-btn",onClick:a[8]||(a[8]=(...e)=>o.clearFilter&&o.clearFilter(...e))},"清除筛选")]),e.createElementVNode("view",{class:"search-info"},[e.createElementVNode("text",{class:"result-count"},e.toDisplayString(n.loading?"搜索中...":`找到 ${n.totalImages} 张图片`)+" "+e.toDisplayString(o.hasFilter?"（已筛选）":""),1)])]),n.showDebug?(e.openBlock(),e.createElementBlock("view",{key:0,class:"debug-info"},[e.createElementVNode("text",null,"调试信息："),e.createElementVNode("text",null,"图片数量: "+e.toDisplayString(n.images.length),1),n.images.length>0?(e.openBlock(),e.createElementBlock("text",{key:0},"第一张图片数据长度: "+e.toDisplayString(n.images[0].image?n.images[0].image.length:0),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),n.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading-state"},[e.createElementVNode("text",null,"🔄 正在加载图片...")])):0===n.images.length?(e.openBlock(),e.createElementBlock("view",{key:2,class:"no-images"},[e.createElementVNode("text",null,"📷 "+e.toDisplayString(o.hasFilter?"没有找到符合条件的图片":"暂无图片"),1),o.hasFilter?(e.openBlock(),e.createElementBlock("text",{key:0},"请尝试调整时间范围或清除筛选条件")):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("view",{key:3,class:"images-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.images,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"image-card",onClick:e=>o.openImageModal(t)},[e.createElementVNode("image",{src:o.getImageSrc(t),mode:"aspectFill",class:"image-thumbnail",onError:a[9]||(a[9]=(...e)=>o.handleImageError&&o.handleImageError(...e)),onLoad:a[10]||(a[10]=(...e)=>o.handleImageLoad&&o.handleImageLoad(...e))},null,40,["src"]),e.createElementVNode("view",{class:"image-info"},[e.createElementVNode("text",{class:"image-time"},e.toDisplayString(o.formatTime(t.timestamp)),1)])],8,["onClick"])))),128))])),!n.loading&&n.images.length>0?(e.openBlock(),e.createElementBlock("view",{key:4,class:"pagination-container"},[e.createElementVNode("view",{class:"pagination"},[e.createElementVNode("button",{onClick:a[11]||(a[11]=e=>o.goToPage(1)),disabled:1===n.page},"首页",8,["disabled"]),e.createElementVNode("button",{onClick:a[12]||(a[12]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===n.page},"上一页",8,["disabled"]),e.createElementVNode("text",{class:"page-info"},"第 "+e.toDisplayString(n.page)+" 页",1),e.createElementVNode("button",{onClick:a[13]||(a[13]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:!o.hasNextPage},"下一页",8,["disabled"]),e.createElementVNode("view",{class:"page-size-selector"},[e.createElementVNode("text",null,"每页显示："),e.createElementVNode("picker",{mode:"selector",range:n.pageSizes,value:n.pageSizes.indexOf(n.pageSize),onChange:a[14]||(a[14]=(...e)=>o.changePageSize&&o.changePageSize(...e))},[e.createElementVNode("view",{class:"picker"},e.toDisplayString(n.pageSize)+"张",1)],40,["range","value"])])]),e.createElementVNode("view",{class:"page-stats"}," 显示第 "+e.toDisplayString((n.page-1)*n.pageSize+1)+" - "+e.toDisplayString(Math.min(n.page*n.pageSize,n.totalImages))+" 张 ",1)])):e.createCommentVNode("",!0),n.showModal?(e.openBlock(),e.createElementBlock("view",{key:5,class:"modal-overlay",onClick:a[17]||(a[17]=(...e)=>o.closeModal&&o.closeModal(...e))},[e.createElementVNode("view",{class:"modal-content",onClick:a[16]||(a[16]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("button",{class:"modal-close",onClick:a[15]||(a[15]=(...e)=>o.closeModal&&o.closeModal(...e))},"✕"),e.createElementVNode("image",{src:o.getImageSrc(n.selectedImage),mode:"aspectFit",class:"modal-image"},null,8,["src"]),e.createElementVNode("view",{class:"modal-info"},[e.createElementVNode("text",null,[e.createElementVNode("strong",null,"拍摄时间："),e.createTextVNode(e.toDisplayString(o.formatTime(n.selectedImage.timestamp)),1)]),e.createElementVNode("text",null,[e.createElementVNode("strong",null,"图片ID："),e.createTextVNode(e.toDisplayString(n.selectedImage.id),1)])])])])):e.createCommentVNode("",!0)])}],["__scopeId","data-v-041e5687"]]);__definePage("pages/index/index",a),__definePage("pages/camera/camera",i),__definePage("pages/sensordata/sensor_data",n),__definePage("pages/photo/photoGallery",o);const s={onLaunch:function(){l("log","at App.vue:4","App Launch")},onShow:function(){l("log","at App.vue:7","App Show")},onHide:function(){l("log","at App.vue:10","App Hide")}};const{app:r,Vuex:c,Pinia:m}={app:e.createVueApp(s)};uni.Vuex=c,uni.Pinia=m,r.provide("__globalStyles",__uniConfig.styles),r._component.mpType="app",r._component.render=()=>{},r.mount("#app")}(Vue);
